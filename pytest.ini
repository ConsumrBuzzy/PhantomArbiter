[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Custom markers for test categorization
markers =
    unit: Pure logic tests (no I/O)
    integration: Component wiring tests
    e2e: End-to-end mission tests
    rust: Tests requiring phantom_core Rust extension
    layer_a: Market Monitor layer tests
    layer_b: Execution layer tests
    layer_c: Visualization layer tests
    slow: Long-running tests
    network: Tests requiring network access
    flaky: Tests that may fail intermittently

# Default options
addopts = -v --tb=short --strict-markers

# Ignore deprecation warnings from dependencies
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Async mode for pytest-asyncio
asyncio_mode = auto
